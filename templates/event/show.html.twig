{% extends 'base.html.twig' %}

{% block title %}Event{% endblock %}

{% block body %}

    <div>
        <time>{{ event.dateTimeStart |date('d/m/Y')}}</time>
        <h1>{{ event.name }}</h1>
    </div>

    <div>
        <p>Organisé par {{ event.planner.pseudo }}</p>
    </div>
    <div>
        <h2>Date et heure</h2>
        <p>{{ event.dateTimeStart|date('d/m/Y H:i:s') }}</p>
    </div>
    <div>
        <h2>Lieu</h2>
        <p></p>
    </div>
    <div>
        <h2>À propos de cet évènement</h2>
        <p>Cet évènement dure {{ event.duration|date('G \\h\\e\\u\\r\\e\\s i \\m\\i\\n\\u\\t\\e\\s') }}</p>
        <p>Il reste {{ event.maxNbRegistration - event.registered|length }} places sur {{ event.maxNbRegistration }}</p>
        <p>Inscription avant le {{ event.registrationDeadline|date('d/m/Y à H:i') }}</p>
        <p>{{ event.infoEvent }}</p>
    </div>
    <div>
        <table>
            <caption>Participants</caption>
            <thead>
            <tr>
                <th>Pseudo</th>
                <th>Nom</th>
            </tr>   
            </thead>
            <tbody>
                {% for participant in event.registered %}
                    <tr>
                        <td>{{ participant.pseudo }}</td>
                        <td>{{ participant.firstName }} {{ participant.lastName|upper }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <a href="{{ path('app_event_register',{ 'id':event.id}) }}">S'inscrire</a>

{% endblock %}
